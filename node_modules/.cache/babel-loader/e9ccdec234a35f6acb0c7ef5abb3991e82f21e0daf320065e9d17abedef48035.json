{"ast":null,"code":"import React,{Component}from'react';import InfiniteScroll from'react-infinite-scroll-component';import NewsItem from'./NewsItem';import Spinner from'./spinner';import{jsxs as _jsxs,jsx as _jsx}from\"react/jsx-runtime\";export class News extends Component{constructor(){super();this.handleNextClick=async()=>{// console.log(\"Next\");\n// if(this.state.page+1 >Math.ceil(this.state.totalResults/this.props.pageSize)){\n// }\n// else{\n// let url = https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=107632b20b124b7c81523cabd47635ee&page=${ this.state.page + 1}&pageSize=${this.props.pageSize};\n// this.setState({loading:true})\n// let data = await fetch(url)\n// let parsedData = await data.json();\n// console.log(parsedData);\n// this.setState({\n//   page: this.state.page + 1,\n//   articles: parsedData.articles ,\n//   loading:false\n// })\n// }\nthis.setState({page:this.state.page+1});this.UpdateNews();};this.handlePreviousClick=async()=>{//   let url = https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=107632b20b124b7c81523cabd47635ee&page=${ this.state.page - 1}&pageSize=${this.props.pageSize};\n// this.setState({loading:true})\n//   let data = await fetch(url)\n// let parsedData = await data.json();\n// console.log(parsedData);\n// this.setState({\n//   page: this.state.page - 1,\n//   articles: parsedData.articles ,\n//   loading:false\n// })\nthis.setState({page:this.state.page-1});this.UpdateNews();};this.fetchMoreData=async()=>{this.props.setProgress(0);this.setState({page:this.state.page+1});let url=` https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page+1}&pageSize=${this.props.pageSize}`;this.setState({loading:true});this.props.setProgress(20);let data=await fetch(url);let parsedData=await data.json();this.props.setProgress(50);this.setState({articles:this.state.articles.concat(parsedData.articles),totalResults:parsedData.totalResults,loading:false});this.props.setProgress(100);};this.state={articles:[],loading:false,page:1,length:1};}async UpdateNews(){this.props.setProgress(0);let url=` https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page+1}&pageSize=${this.props.pageSize}`;this.setState({loading:true});this.props.setProgress(30);let data=await fetch(url);this.props.setProgress(70);let parsedData=await data.json();console.log(parsedData);this.setState({articles:parsedData.articles,totalResults:parsedData.totalResults,loading:false});}//async are use to the data\nasync componentDidMount(){console.log(\"cdm\");// let url = https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=107632b20b124b7c81523cabd47635ee&pageSize=${this.props.pageSize};\n// this.setState({loading: true});\n// let data = await fetch(url)\n// let parsedData = await data.json();\n// console.log(parsedData);\n// this.setState({ articles: parsedData.articles ,\n//   totalResults:parsedData.totalResults,\n//   loading:false\n// })\nthis.UpdateNews();this.props.setProgress(100);}render(){return/*#__PURE__*/_jsxs(\"div\",{className:\"container my-3 \",children:[/*#__PURE__*/_jsx(\"heading\",{children:/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center\",style:{marginTop:\"30px\"},children:[\"NewsPlace - Top Headline of  \",this.props.category.charAt(0).toUpperCase()+this.props.category.slice(1)]})}),/*#__PURE__*/_jsx(InfiniteScroll,{dataLength:this.state.articles.length,next:this.fetchMoreData,hasMore:this.state.articles.length!==this.state.totalResults,loader:/*#__PURE__*/_jsx(Spinner,{}),children:/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:this.state.articles.map(element=>{return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:element.title?element.title:\"\",description:element.description?element.description:\"\",imageUrl:element.urlToImage,newsUrl:element.url,author:element.author,date:element.publishedAt,source:element.source.name})},element.url);})})})]});}}News.defaultProps={country:\"in\",pageSize:5};export default News;","map":{"version":3,"names":["React","Component","InfiniteScroll","NewsItem","Spinner","jsxs","_jsxs","jsx","_jsx","News","constructor","handleNextClick","setState","page","state","UpdateNews","handlePreviousClick","fetchMoreData","props","setProgress","url","country","category","apiKey","pageSize","loading","data","fetch","parsedData","json","articles","concat","totalResults","length","console","log","componentDidMount","render","className","children","style","marginTop","charAt","toUpperCase","slice","dataLength","next","hasMore","loader","map","element","title","description","imageUrl","urlToImage","newsUrl","author","date","publishedAt","source","name","defaultProps"],"sources":["C:/Users/bittu/OneDrive/Desktop/newsapp/src/component/News.js"],"sourcesContent":["import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport InfiniteScroll from 'react-infinite-scroll-component';\nimport NewsItem from './NewsItem';\nimport Spinner from './spinner';\n\nexport class News extends Component {\n  static defaultProps = {\n    country: \"in\",\n    pageSize: 5\n\n  };\n  static propTypes = {\n    country: PropTypes.string,\n  }\n\n  constructor() {\n    super();\n\n    this.state = {\n      articles: [],\n      loading: false,\n      page: 1,\n      length: 1,\n\n    }\n\n\n\n  }\n  async UpdateNews() {\n    this.props.setProgress(0);\n    let url =` https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n    this.setState({ loading: true });\n    this.props.setProgress(30);\n    let data = await fetch(url)\n    this.props.setProgress(70);\n    let parsedData = await data.json();\n\n    console.log(parsedData);\n    this.setState({\n      articles: parsedData.articles,\n      totalResults: parsedData.totalResults,\n      loading: false\n    })\n \n  }\n  //async are use to the data\n  async componentDidMount() {\n    console.log(\"cdm\");\n    // let url = https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=107632b20b124b7c81523cabd47635ee&pageSize=${this.props.pageSize};\n    // this.setState({loading: true});\n    // let data = await fetch(url)\n    // let parsedData = await data.json();\n    // console.log(parsedData);\n    // this.setState({ articles: parsedData.articles ,\n    //   totalResults:parsedData.totalResults,\n    //   loading:false\n    // })\n    this.UpdateNews();\n    this.props.setProgress(100);\n  }\n\n  handleNextClick = async () => {\n    // console.log(\"Next\");\n    // if(this.state.page+1 >Math.ceil(this.state.totalResults/this.props.pageSize)){\n\n    // }\n    // else{\n    // let url = https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=107632b20b124b7c81523cabd47635ee&page=${ this.state.page + 1}&pageSize=${this.props.pageSize};\n    // this.setState({loading:true})\n    // let data = await fetch(url)\n    // let parsedData = await data.json();\n    // console.log(parsedData);\n\n    // this.setState({\n    //   page: this.state.page + 1,\n    //   articles: parsedData.articles ,\n    //   loading:false\n\n    // })\n    // }\n    this.setState({ page: this.state.page + 1 })\n    this.UpdateNews()\n\n  }\n  handlePreviousClick = async () => {\n\n    //   let url = https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=107632b20b124b7c81523cabd47635ee&page=${ this.state.page - 1}&pageSize=${this.props.pageSize};\n    // this.setState({loading:true})\n    //   let data = await fetch(url)\n    // let parsedData = await data.json();\n    // console.log(parsedData);\n\n    // this.setState({\n    //   page: this.state.page - 1,\n    //   articles: parsedData.articles ,\n    //   loading:false\n    // })\n    this.setState({ page: this.state.page - 1 })\n    this.UpdateNews()\n\n  };\n  fetchMoreData = async () => {\n    this.props.setProgress(0);\n    this.setState({ page: this.state.page + 1 })\n    let url =` https://newsapi.org/v2/top-headlines?country=${this.props.country}&category=${this.props.category}&apiKey=${this.props.apiKey}&page=${this.state.page + 1}&pageSize=${this.props.pageSize}`;\n    this.setState({ loading: true });\n    this.props.setProgress(20);\n    let data = await fetch(url)\n    let parsedData = await data.json();\n    this.props.setProgress(50);\n    this.setState({\n      articles: this.state.articles.concat(parsedData.articles),\n      totalResults: parsedData.totalResults,\n      loading: false\n  \n    }\n   )\n   this.props.setProgress(100);\n  };\n\n  render() {\n    return (\n      <div className='container my-3 '>\n        <heading>\n          <h2 className='text-center' style={{marginTop:\"30px\"}} >NewsPlace - Top Headline of  {this.props.category.charAt(0).toUpperCase() + this.props.category.slice(1)}</h2></heading>\n        {/* {this.state.loading &&  <Spinner/>} */}\n\n        <InfiniteScroll\n          dataLength={this.state.articles.length}\n          next={this.fetchMoreData}\n          hasMore={this.state.articles.length !== this.state.totalResults}\n          \n          loader={<Spinner />}\n\n        >\n          \n\n          <div className='row' >\n            {this.state.articles.map((element) => {\n              return <div className='col-md-4' key={element.url}>\n                <NewsItem title={element.title ? element.title : \"\"}\n                  description={element.description ? element.description : \"\"}\n                  imageUrl={element.urlToImage} newsUrl={element.url} author={element.author} date={element.publishedAt} source={element.source.name} />\n              </div> \n            })\n         \n            }\n          </div>\n          \n        </InfiniteScroll>\n      </div>\n\n\n\n    )\n  }\n}\nexport default News        "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}